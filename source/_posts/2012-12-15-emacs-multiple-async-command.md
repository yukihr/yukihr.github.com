---
layout: post
title: "Emacsで多数の非同期シェルコマンドを実行する"
date: 2012-12-15 11:57
comments: true
categories: Emacs
---
Emacsでは`M-!`でシェルコマンドを実行できるんですが、これで実行したコマンドは同期実行になってしまって、コマンドが終了するまで他の操作ができなくなります。
時間のかかるコマンドや常にバックグラウンドで走らせておきたいコマンドを実行するには不便です(というか無理)。

実は`M-!`でシェルでやるようにコマンドの後ろに`&`をつけてやると、コマンドが非同期実行になり、Emacsのスレッドを停止しなくなるので他のバッファ操作をしながらコマンドを走らせておくことができます。便利ですね。あと、これ`M-&`でもできます。

ただ、これ、デフォルトの状態だとひとつの非同期コマンドしか実行できないんですよ・・・。Railsでよくあるように、`M-& rails server`して、`M-& guard` とかできないんです・・・。
なんとかならないもんかなあ、とググってたら発見しました。

[Running a Shell Command Asynchronously](http://www.emacswiki.org/emacs/ExecuteExternalCommand#toc4)

ここにあるコードで、複数コマンドのサポートが可能になります！あと、わかりやすいように元のコマンドを出力バッファのうえの方に表示してくれます！

わんだほー
